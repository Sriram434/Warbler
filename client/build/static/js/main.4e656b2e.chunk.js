(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{47:function(A,e,t){},72:function(A,e,t){},75:function(A,e,t){},76:function(A,e,t){"use strict";t.r(e);var r=t(0),n=t.n(r),s=t(19),a=t.n(s),c=(t(47),t(8)),i=t(16),o="ADD_ERROR",u="REMOVE_ERROR",l="SET_CURRENT_USER",j="LOAD_MESSAGES",m="REMOVE_MESSAGE",d={isAuthenticated:!1,user:{}},b=t(11),h=t(41),p=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j:return Object(h.a)(e.messages);case m:return A.filter((function(A){return A._id!==e.id}));default:return A}},O=Object(i.c)({currentUser:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case l:return{isAuthenticated:Object.keys(e.user).length>0,user:e.user};default:return A}},errors:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:null},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case o:return Object(b.a)(Object(b.a)({},A),{},{message:e.errors});case u:return Object(b.a)(Object(b.a)({},A),{},{message:null});default:return A}},messages:p}),f=t(38),x=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d;var g=t(9),v=t(12),U=t(13),M=t(15),y=t(14),E=t.p+"static/media/warbler-logo.59bed835.png",R=t(42),H=t(22),N=t.n(H);function z(A,e,t){return new Promise((function(r,n){return N.a[A](e,t).then((function(A){return r(A.data)})).catch((function(A){return n(A.response.data.error)}))}))}var P=function(A){return{type:o,errors:A}},w=function(){return{type:u}};function T(A){return{type:l,user:A}}var V=function(A){!function(A){A?N.a.defaults.headers.common.Authorization="Bearer ".concat(A):delete N.a.defaults.headers.common.Authorization}(A)};var B=t(1),Z=function(A){Object(M.a)(t,A);var e=Object(y.a)(t);function t(){var A;Object(v.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(A=e.call.apply(e,[this].concat(n))).logout=function(e){e.preventDefault(),A.props.logout()},A}return Object(U.a)(t,[{key:"render",value:function(){return Object(B.jsx)("nav",{className:"navbar navbar-expand",children:Object(B.jsxs)("div",{className:"container-fluid",children:[Object(B.jsx)("div",{className:"navbar-header",children:Object(B.jsx)(g.b,{to:"/",className:"navbar-brand",children:Object(B.jsx)("img",{src:E,alt:"Warbler Home"})})}),this.props.currentUser.isAuthenticated?Object(B.jsxs)("ul",{className:"nav navbar-nav navbar-right",children:[Object(B.jsx)(g.b,{to:"/users/".concat(this.props.currentUser.user.id,"/messages/new"),children:" New Message"}),Object(B.jsxs)("li",{children:[" ",Object(B.jsx)("a",{onClick:this.logout,children:"logout"})," "]})]}):Object(B.jsxs)("ul",{className:"nav navbar-nav navbar-right",children:[Object(B.jsx)("li",{children:Object(B.jsx)(g.b,{to:"/signup",children:"Sign Up"})}),Object(B.jsx)("li",{children:Object(B.jsx)(g.b,{to:"/signin",children:"Login"})})]})]})})}}]),t}(r.Component);var D=Object(c.b)((function(A){return{currentUser:A.currentUser}}),{logout:function(){return function(A){localStorage.clear(),V(!1),A(T({}))}}})(Z),Y=t(3),F=(t(72),t(39)),X=t.n(F),q="data:image/jpeg;base64,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",W=(t(75),function(A){var e=A.date,t=A.profileImgUrl,r=A.text,n=A.username,s=A.removeMessage,a=A.isCorrectUser;return Object(B.jsx)("div",{children:Object(B.jsxs)("li",{className:"list-group-item",style:{borderRadius:"20px"},children:[Object(B.jsx)("img",{src:t||q,alt:n,height:"100",width:"100",className:"timeline-image"}),Object(B.jsxs)("div",{className:"message-area",children:[Object(B.jsxs)(g.b,{to:"/",style:{textDecoration:"none"},children:[" @",n," \xa0"]}),Object(B.jsx)("span",{className:"text-muted",children:Object(B.jsx)(X.a,{className:"text-muted",format:"DD MMM YYYY",children:e})}),Object(B.jsx)("p",{children:r}),a&&Object(B.jsx)("a",{className:"btn btn-sm btn-right btn-danger ml-2",onClick:s,children:"delete "})]})]})})}),L=function(A){Object(M.a)(t,A);var e=Object(y.a)(t);function t(){return Object(v.a)(this,t),e.apply(this,arguments)}return Object(U.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchMessages()}},{key:"render",value:function(){var A=this,e=this.props,t=e.messages,r=e.deleteMessage,n=e.currentUser,s=t.map((function(e){return Object(B.jsx)(W,{date:e.createAt,text:e.text,username:e.user.username,profileImageUrl:e.user.profileImageUrl,isCorrectUser:n===e.user._id,removeMessage:r.bind(A,e.user._id,e._id)},e._id)}));return Object(B.jsx)("div",{className:"row col-sm-8",children:Object(B.jsx)("div",{className:"offset-1 col-sm-10",children:Object(B.jsx)("ul",{className:"list-group",id:"messages",children:s})})})}}]),t}(r.Component),I=Object(c.b)((function(A){return{messages:A.messages,currentUser:A.currentUser.user.id}}),{fetchMessages:function(){return function(A){return z("get","/api/messages").then((function(e){A({type:j,messages:e})})).catch((function(e){return A(P(e.message))}))}},deleteMessage:function(A,e){return function(t){return z("delete","/api/users/".concat(A,"/messages/").concat(e)).then((function(){return t({type:m,id:e})})).catch((function(A){return t(P(A))}))}}})(L),S=function(A){var e=A.profileImageUrl,t=A.userName;return Object(B.jsx)("aside",{className:"col-sm-2",children:Object(B.jsx)("div",{className:"panel panel-default",children:Object(B.jsx)("div",{className:"panel panel-default",children:Object(B.jsx)("img",{src:e||q,alt:t,className:"img-thumbnail mt-3"})})})})},C=function(A){return Object(B.jsxs)("div",{className:"row",children:[Object(B.jsx)(S,{profileImageUrl:A.profileImageUrl,userName:A.username}),Object(B.jsx)(I,{})]})},J=function(A){var e=A.currentUser;return e.isAuthenticated?Object(B.jsx)("div",{children:Object(B.jsx)(C,{profileImageUrl:e.user.profileImageUrl,userName:e.user.userName})}):Object(B.jsxs)("div",{className:"home-hero",children:[Object(B.jsx)("h1",{children:" What's Happening "}),Object(B.jsx)("h4",{children:"New to Warbler "}),Object(B.jsx)(g.b,{to:"/signup",className:"btn btn-primary",children:"Sign up here"})]})},k=t(21),Q=function(A){Object(M.a)(t,A);var e=Object(y.a)(t);function t(){var A;Object(v.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(A=e.call.apply(e,[this].concat(n))).state={email:"",username:"",password:"",profileImageUrl:""},A.handleChange=function(e){A.setState(Object(k.a)({},e.target.name,e.target.value))},A.handleSubmit=function(e){e.preventDefault();var t=A.props.signUp?"signup":"signin";A.props.onAuth(t,A.state).then((function(){A.props.history.push("/")})).catch((function(){return console.log("error")}))},A}return Object(U.a)(t,[{key:"render",value:function(){var A=this.state,e=A.email,t=A.username,r=(A.password,A.profileImageUrl),n=this.props,s=n.heading,a=n.buttonText,c=n.signUp,i=n.errors,o=n.history,u=n.removeError;return o.listen((function(){u()})),Object(B.jsx)("div",{children:Object(B.jsx)("div",{className:"row justify-content-md-center text-center",children:Object(B.jsx)("div",{className:"col-md-6",children:Object(B.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(B.jsx)("h2",{children:s}),i.message&&Object(B.jsx)("div",{className:"alert alert-danger",children:i.message}),Object(B.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(B.jsx)("input",{className:"form-control",id:"email",name:"email",onChange:this.handleChange,value:e,type:"text"}),Object(B.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(B.jsx)("input",{className:"form-control",id:"password",name:"password",onChange:this.handleChange,type:"password"}),c&&Object(B.jsxs)("div",{children:[Object(B.jsx)("label",{htmlFor:"Username",children:"Username:"}),Object(B.jsx)("input",{className:"form-control",id:"Username",name:"username",onChange:this.handleChange,value:t,type:"text"}),Object(B.jsx)("label",{htmlFor:"image-url",children:"Image URL :"}),Object(B.jsx)("input",{className:"form-control",id:"image-url",name:"profileImageUrl",onChange:this.handleChange,type:"text",value:r})]}),Object(B.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg mt-2",children:a})]})})})})}}]),t}(r.Component);function K(A){var e=function(e){Object(M.a)(r,e);var t=Object(y.a)(r);function r(){return Object(v.a)(this,r),t.apply(this,arguments)}return Object(U.a)(r,[{key:"componentWillMount",value:function(){!1===this.props.isAuthenticated&&this.props.history.push("/signin")}},{key:"componentWillUpdate",value:function(A){!1===A.isAuthenticated&&this.props.history.push("/signin")}},{key:"render",value:function(){return Object(B.jsx)(A,Object(b.a)({},this.props))}}]),r}(r.Component);return Object(c.b)((function(A){return{isAuthenticated:A.currentUser.isAuthenticated}}))(e)}var G=function(A){Object(M.a)(t,A);var e=Object(y.a)(t);function t(){var A;Object(v.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(A=e.call.apply(e,[this].concat(n))).state={message:""},A.handleMessage=function(e){e.preventDefault(),A.props.postMessage(A.state.message),A.setState({message:""}),A.props.history.push("/")},A}return Object(U.a)(t,[{key:"render",value:function(){var A=this;return Object(B.jsxs)("form",{onSubmit:this.handleMessage,children:[this.props.errors.message&&Object(B.jsx)("div",{className:"alert alert-danger",children:this.props.errors.message}),Object(B.jsx)("label",{htmlFor:"message",children:"New Message:"}),Object(B.jsx)("input",{type:"text",className:"form-control mt-2",name:"message",value:this.state.message,onChange:function(e){return A.setState({message:e.target.value})}}),Object(B.jsx)("button",{type:"submit",className:"btn btn-success pull-right mt-2",children:"Submit"})]})}}]),t}(r.Component);var _=Object(c.b)((function(A){return{errors:A.errors}}),{postMessage:function(A){return function(e,t){var r=t().currentUser.user.id;return z("post","/api/users/".concat(r,"/messages"),{text:A}).then((function(A){})).catch((function(A){return e(P(A.message))}))}}})(G);var $=Object(Y.f)(Object(c.b)((function(A){return{currentUser:A.currentUser,errors:A.errors}}),{authUser:function(A,e){return function(t){return new Promise((function(r,n){return z("post","/api/auth/".concat(A),e).then((function(A){var e=A.token,n=Object(R.a)(A,["token"]);localStorage.setItem("jwtToken",e),V(e),t(T(n)),t(w()),r()})).catch((function(A){t(P(A.message)),console.log(A.message),n()}))}))}},removeError:w})((function(A){var e=A.authUser,t=A.errors,r=A.removeError,n=A.currentUser;return Object(B.jsx)("div",{className:"container",children:Object(B.jsxs)(Y.c,{children:[Object(B.jsx)(Y.a,{exact:!0,path:"/",render:function(A){return Object(B.jsx)(J,Object(b.a)({currentUser:n},A))}}),Object(B.jsx)(Y.a,{exact:!0,path:"/signin",render:function(A){return Object(B.jsx)(Q,Object(b.a)({onAuth:e,errors:t,removeError:r,buttonText:"Log in",heading:"Welcome Back."},A))}}),Object(B.jsx)(Y.a,{exact:!0,path:"/signup",render:function(A){return Object(B.jsx)(Q,Object(b.a)({onAuth:e,errors:t,removeError:r,signUp:!0,buttonText:"Sign up!",heading:"Join Warbler Today!"},A))}}),Object(B.jsx)(Y.a,{path:"/users/:id/messages/new",component:K(_)})]})})}))),AA=t(40),eA=Object(i.e)(O,x(Object(i.a)(f.a)));if(localStorage.jwtToken){V(localStorage.jwtToken);try{eA.dispatch(T(Object(AA.a)(localStorage.jwtToken)))}catch(nA){eA.dispatch(T({}))}}var tA=function(){return Object(B.jsx)(c.a,{store:eA,children:Object(B.jsx)(g.a,{children:Object(B.jsxs)("div",{className:"onboarding",children:[Object(B.jsx)(D,{}),Object(B.jsx)($,{})]})})})},rA=function(A){A&&A instanceof Function&&t.e(3).then(t.bind(null,77)).then((function(e){var t=e.getCLS,r=e.getFID,n=e.getFCP,s=e.getLCP,a=e.getTTFB;t(A),r(A),n(A),s(A),a(A)}))};a.a.render(Object(B.jsx)(n.a.StrictMode,{children:Object(B.jsx)(tA,{})}),document.getElementById("root")),rA()}},[[76,1,2]]]);
//# sourceMappingURL=main.4e656b2e.chunk.js.map